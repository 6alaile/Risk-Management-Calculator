<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">

  <title>Risk Management Calculator</title>
</head>

<body>
  
  <header>
    <h1>Risk Management Calculator</h1>
  </header>

  <div class="container-fluid row">
    <h1>How to use this Calculator</h1>
    
      <h2>Margin</h2>
      <p class="">  
        The user selects the account currency, currency pair being traded and leverage on the account, 
        then enters the lot size (volume) of the trade and account balance. 
        This will display a margin value in the margin box. 
        The box will light up red if a position cannot be opened and green if a position can be opened.
        Changing these values will also change the margin value.
      </p>
      
      <h2>Profit/Loss</h2>
      <p>
        The user selects either BUY or SELL to determine trade direction, then inputs the entry level, 
        take profit and stop loss values which will give the profit and loss amount in the boxes below.
      </p>
  </div>

  <form name="PositionSizeCalculator">

    <!-- Position Sizing -->

    <div class="container-fluid row">
      <div id="Position" class="wide">
        <h2>Position Sizing</h2>

        <div class="form-group row">
          <label class="col-sm-6 col-form-label">Account Currency</label>
          <div class="col-sm-6">        
            <select id="AccountCurrency" class="form-select" size="1" onchange="calculateMargin()">
              <option value="AUD">AUD</option>
              <option value="CAD">CAD</option>
              <option value="CHF">CHF</option>
              <option value="EUR">EUR</option>
              <option value="GBP">GBP</option>
              <option value="JPY">JPY</option>
              <option value="TZS">TZS</option>
              <option value="USD">USD</option>
            </select>
          </div>
        </div>

        <div class="form-group row"> 
          <label class="col-sm-6 col-form-label">Account Balance</label>
          <div class="col-sm-6">
            <input id="AccountBalance" class="form-control" size="7" type="number" min="0" step="0.01" onchange="calculateMargin()">
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-6 col-form-label">Currency Pair</label>
          <div class="col-sm-6">
            <select id="CurrencyPair" class="form-select" onchange="calculateMargin()">
              <option>AUD/CAD</option>
              <option>AUD/CHF</option>
              <option>AUD/JPY</option>
              <option>AUD/NZD</option>
              <option>AUD/USD</option>
              <option>CAD/CHF</option>
              <option>CAD/JPY</option>
              <option>CHF/JPY</option>
              <option>EUR/AUD</option>
              <option>EUR/CAD</option>
              <option>EUR/CHF</option>
              <option>EUR/GBP</option>
              <option>EUR/JPY</option>
              <option>EUR/NZD</option>
              <option>EUR/USD</option>
              <option>GBP/AUD</option>
              <option>GBP/CAD</option>
              <option>GBP/CHF</option>
              <option>GBP/JPY</option>
              <option>GBP/NZD</option>
              <option>GBP/USD</option>
              <option>NZD/CAD</option>
              <option>NZD/CHF</option>
              <option>NZD/JPY</option>
              <option>NZD/USD</option>
              <option>USD/CAD</option>
              <option>USD/CHF</option>
              <option>USD/JPY</option>
              <option>USD/MXN</option>
              <option>USD/NOK</option>
              <option>USD/ZAR</option>
              <option>XAG/USD</option>
              <option>XAU/USD</option>
            </select> 
          </div>
        </div>

        <div class="form-group row" >
          <label class="col-sm-6 col-form-label">Lot Size (Volume): </label>
          <div class="col-sm-6">
            <input id="LotSize" class="form-control" size="6" type="number" min="0.01" step="0.01" onchange="calculateMargin()">
          </div>
        </p>
        </div>
      </div>  
    </div>

    <!-- End of Row -->
    <!-- Margin Calculator -->

    <div class="container-fluid row">
      <div id="Margin" class="split col">
        <h2>Margin Calculation</h2>

        <div class="form-group row"> 
            <label class="form-label">Leverage </label>
            <div class="row">
              <label for="Leverage" class="form-label col">1 : </label>
              <select id="SelectedLeverage" class="form-select col" onchange="calculateMargin()">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="200">200</option>
                <option value="400">400</option>
                <option value="500">500</option>
                <option value="1000">1000</option>
                <option value="2000">2000</option>
                <option value="3000">3000</option>
              </select>
            </div>
        </div>

        <div class="form-group row">
            <label class="form-label">Margin </label>
            <div>
              <input id="AccountMargin" class="form-control" type="text" disabled=""></div>
        </div> 

        <div class="form-group row">
            <label class="form-label">Pip Value </label>
            <div>
              <input id="PipValue" class="form-control" type="text" disabled=""></div>
        </div> 
      </div>

      <!-- End of Margin Calculator -->
      <!-- Profits Calculator -->
      
      <div id="Profits" class="split col">
        <h2>Profit Calculation</h2>

        <div class="form-group row">
          <label class="form-label">Entry</label>
            
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label class="btn btn-success" for="BuyRadioButton">
                <input type="radio" name="BuySellButton" id="BuyRadioButton" class="btn-check" autocomplete="off" onclick="ProfitLoss(BuySellButton.Buy)"/> BUY
              </label>
            
              <label class="btn btn-danger" for="SellRadioButton">
                <input type="radio" name="BuySellButton" id="SellRadioButton" class="btn-check" autocomplete="off" onclick="ProfitLoss(BuySellButton.Sell)"/> SELL
              </label>
            </div>
          
            <div class="row">
              <input id="EntryPrice" type="number" class="form-control" min="0.00001" step="0.00001" onchange="ProfitLoss()">
            </div>

        </div>

        <div class="form-group row">
          <label class="form-label">Exit</label>
          <div class="">
            <label class="form-label">Take Profit</label>
            <input id="TakeProfit" name="LimitValue" type="number" class="form-control ExitPrice" min="0" step="0.00001" onchange="ProfitLoss()">
          </div>
          <div class="">
            <label class="form-label">Stop Loss</label>
            <input id="StopLoss" name="LimitValue" type="number" class="form-control ExitPrice" min="0" step="0.00001" onchange="ProfitLoss()">
          </div>
        </div>
        

        <div class="form-group row">
          <div class="">
            <label class="form-label">Profit</label>
            <div>
              <input disabled value="" name="result" id="CalculatedProfit" type="text" class="form-control" min="0" step="0.01">
            </div>
          </div>
          <div class="">
            <label class="form-label">Loss</label>
            <div>
              <input disabled value="" name="result" id="CalculatedLoss" type="text" class="form-control" min="0" step="0.01">
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>

  
  <!-- Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
  <!-- Optional JavaScript (Vue.js)-->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
  <!-- Custom JavaScript -->
  <script src="js/script.js"></script>
  <!-- Dependencies -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

  <script src="js/accounting.min.js"></script>
  <script src="js/money.min.js"></script>
  <script type="text/javascript">
    // Load exchange rates data via AJAX:
    $.getJSON(
    	// NB: using Open Exchange Rates here, but you can use any source!
        'https://openexchangerates.org/api/latest.json?app_id=f86995cf17784ff88a15305cb7f8b6ad',
        function(data) {
            // Check money.js has finished loading:
            if ( typeof fx !== "undefined" && fx.rates ) {
                fx.rates = data.rates;
                fx.base = data.base;
            } else {
                // If not, apply to fxSetup global:
                var fxSetup = {
                    rates : data.rates,
                    base : data.base
                }
            }
        }
    );
  </script>
</body>

</html>
